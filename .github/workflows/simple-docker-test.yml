name: Simple Docker Login Test

on:
  workflow_dispatch:

jobs:
  simple-docker-test:
    name: Simple Docker Hub Login Test
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    # æœ€ç®€å•çš„ Docker Hub ç™»å½•é…ç½®
    - name: Login to Docker Hub (Simple)
      uses: docker/login-action@v3
      with:
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_PASSWORD }}
        
    - name: Test login success
      run: |
        echo "âœ… Docker Hub ç™»å½•æˆåŠŸ!"
        docker info
        
    - name: Test with recommended configuration
      uses: docker/login-action@v3
      with:
        username: ${{ vars.DOCKERHUB_USERNAME }}
        password: ${{ secrets.DOCKERHUB_TOKEN }}
      continue-on-error: true
      
    - name: Show available configurations
      run: |
        echo "ğŸ”§ å¯ç”¨é…ç½®æ£€æŸ¥:"
        echo "DOCKER_USERNAME secret: $(if [ -n '${{ secrets.DOCKER_USERNAME }}' ]; then echo 'å·²è®¾ç½®'; else echo 'æœªè®¾ç½®'; fi)"
        echo "DOCKER_PASSWORD secret: $(if [ -n '${{ secrets.DOCKER_PASSWORD }}' ]; then echo 'å·²è®¾ç½®'; else echo 'æœªè®¾ç½®'; fi)"
        echo "DOCKERHUB_USERNAME variable: $(if [ -n '${{ vars.DOCKERHUB_USERNAME }}' ]; then echo 'å·²è®¾ç½®'; else echo 'æœªè®¾ç½®'; fi)"
        echo "DOCKERHUB_TOKEN secret: $(if [ -n '${{ secrets.DOCKERHUB_TOKEN }}' ]; then echo 'å·²è®¾ç½®'; else echo 'æœªè®¾ç½®'; fi)"
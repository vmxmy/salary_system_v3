# 部门卡片视图

## 功能概述
设计现代化的部门卡片组件，以卡片形式展示部门信息和关键统计数据，支持与树形视图的切换。

## 核心需求
- ✅ 现代化卡片设计（使用 FinancialCard 风格）
- ✅ 展示部门关键信息和薪资统计
- ✅ 支持网格布局和响应式设计
- ✅ 视图模式切换动画
- ✅ 集成悬停效果和交互反馈

## 主要功能点
1. ✅ 部门卡片组件（DepartmentCard）
2. ✅ 卡片网格布局（DepartmentCardGrid）
3. ✅ 薪资统计展示（迷你图表）
4. ✅ 视图切换控制器
5. ✅ 卡片操作菜单

## 已实现的功能

### DepartmentCard 卡片组件
- **现代化设计**: 基于 FinancialCard 组件，支持多种视觉变体
- **薪资数据展示**: 
  - 根据平均薪资自动选择卡片颜色主题
  - 显示平均薪资、薪资范围、总薪资支出
  - 格式化大数值显示（万元单位）
- **部门信息**:
  - 部门名称和完整层级路径
  - 员工数量统计
  - 子部门数量指示器
- **交互功能**:
  - 卡片点击选择
  - 悬停效果和微动画
  - 操作菜单（查看、编辑、添加子部门、删除）
- **薪资趋势图**: 迷你渐变图表显示薪资分布

### DepartmentCardGrid 网格布局
- **响应式网格**: 
  - 移动端: 单列
  - 平板: 双列  
  - 桌面: 三列
  - 大屏: 四列
  - 超大屏: 五列
- **智能排序**: 支持按名称、员工数量、平均薪资排序
- **搜索过滤**: 实时搜索部门名称和层级路径
- **数据映射**: 自动关联薪资统计数据
- **空状态处理**: 优雅的无数据和搜索无结果状态
- **统计信息**: 显示总部门数和薪资数据覆盖情况

### DepartmentViewToggle 视图切换器
- **多种变体**:
  - 基础版本: 简单的视图切换
  - 扩展版本: 包含排序、薪资统计开关、导出功能
  - 响应式版本: 移动端自动适配
- **视图模式**: 
  - 树形视图 (tree)
  - 卡片视图 (card)  
  - 列表视图 (list)
- **现代化设计**: 
  - 统一的按钮组样式
  - 活跃状态高亮
  - 平滑切换动画

### DepartmentSalaryChart 薪资图表
- **多种显示模式**:
  - Mini: 简单的渐变指示器
  - Compact: 带数值的分布条
  - Detailed: 完整的图表和图例
- **数据可视化**:
  - 最低、平均、最高薪资分布
  - 渐变色彩编码（红色-蓝色-绿色）
  - 平均薪资指示线
- **交互功能**: 悬停提示和动画效果
- **对比图表**: 多部门薪资对比组件

### 技术实现特色
- **现代化样式**: 
  - 基于 FinancialCard 的统一设计语言
  - 渐变色彩和微妙阴影效果
  - 硬件加速动画
- **类型安全**: 完整的 TypeScript 类型定义
- **性能优化**: 
  - useMemo 优化计算
  - memo 包装防止不必要重渲染
  - 响应式网格布局
- **可访问性**: 
  - 键盘导航支持
  - 语义化HTML结构
  - ARIA 标签和描述

### 组件API设计
- **灵活配置**: 支持显示/隐藏各种功能模块
- **事件处理**: 统一的选择和操作事件回调
- **样式扩展**: 支持自定义 className 和样式覆盖
- **数据驱动**: 完全基于传入数据渲染，无内部状态依赖

## 下一步
部门卡片视图已完成，可以继续实现第四个功能：**部门CRUD操作**。